image: gcc

stages:          # List of stages for jobs, and their order of execution
  - build

build:
  stage: build

  before_script:
    - |
      if [ ! -d ../googletest ]; then
        CWD=`pwd`
        cd ..
        git clone https://github.com/google/googletest
        apt update
        apt install libcurl4-gnutls-dev \ Y
        apt install libcurl4-openssl-dev \ Y
        apt install libcurl4-nss-dev \ Y
        cd $CWD
      fi

  script:
    - make

